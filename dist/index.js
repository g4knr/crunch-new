"use strict";(()=>{var Ie=Object.defineProperty;var He=(e,t)=>{for(var r in t)Ie(e,r,{get:t[r],enumerable:!0})};var P={};He(P,{getAccordionTitle:()=>$,getArticleCardFromLink:()=>B,getAuthor:()=>I,getCTATactic:()=>K,getCardCategory:()=>H,getCardLinkClicked:()=>G,getCardPosition:()=>W,getCardTitle:()=>j,getClickText:()=>V,getClickURL:()=>E,getCurrentFormStep:()=>qe,getFormName:()=>_,getFormStepContents:()=>Q,getFormStepNumber:()=>z,getFormType:()=>C,getFunnelStage:()=>Y,getListType:()=>J,getPageType:()=>X,getPageURL:()=>m,getPartnerName:()=>Fe,getPositionOnPage:()=>Z,getProductName:()=>g,getPublishedDate:()=>ee,getTotalFormSteps:()=>te,isCardClick:()=>Ne,isKnowledgeClick:()=>re});var $=e=>e.firstElementChild.textContent;var B=e=>e.closest(".card");var I=()=>{if(!!window.crunchMeta)return window.crunchMeta.author};var H=e=>e.querySelector(".tag").textContent;var G=e=>{let t=e.classList;return t.contains("card__img-wrapper")?"Image":t.contains("card__h")?"Title":t.contains("card__arrow")?"Arrow":"Undefined"};var W=e=>{let t=e.parentElement,r=t.parentElement;return Array.from(r.children).indexOf(t)+1};var j=e=>e.querySelector(".card__h").textContent;var V=e=>e.textContent;var E=e=>e.href;var K=e=>{let t=e.classList,r;return t.forEach(n=>{if(n.includes("footer-callback"))r="Signup";else if(n.includes("callback"))r="Call Back";else if(n.includes("validate")){let s=e.closest("form"),a=Array.from(s.querySelectorAll(`.${n}`));a.forEach((p,f)=>{p===e&&(f<a.length-1?r="Next Step":r="Form Completion")});return}}),r};var qe=e=>[...e.querySelectorAll(".callback-form__step")].find(r=>r.style.display!=="none");var _=e=>e.dataset.name;var Q=e=>e.dataset.stepContent;var z=e=>{let r=e.closest("form").querySelectorAll(".callback-form__step");return Array.from(r).indexOf(e)+1};var C=e=>{let t;return e.closest(".modal__wrapper")?t="Popup":t="In Page",t};var Y=()=>{};var m=()=>window.location.href;var J=()=>{let e=m(),t;return e.includes("/knowledge-")?e.includes("/knowledge-category/")?t="Category Page":t="You May Also Like":e.includes(!e.includes("/knowledge/"))?t="Category Page":t="Top Reads",t};var X=()=>{let e=m();return e.includes("/knowledge")?"Knowledge":e.includes("/member-stories")?"Member Stories":document.querySelector("form[data-product]")?"Product":"Other"};var Fe=e=>e;var Z=e=>{let t="body";return e.closest(".fab__wrapper")?t="fab":e.closest(".nav__wrapper")?t="nav":e.closest("header")?t="header":e.closest("footer")?t="footer":document.querySelector("main")&&document.querySelector("main").firstElementChild.contains(e)&&(t="header"),t};var g=e=>e?e.dataset.product:document.querySelector("form[data-product]");var ee=()=>{if(!!window.crunchMeta)return window.crunchMeta.publishedDate};var te=e=>{let t=e.querySelectorAll(crunchDefs.selectors.formStep);return t.length>0?t.length:1};var Ne=e=>!!e.closest(".card");var re=e=>{let t=e.pathname,r="/knowledge-",n;return e.href.substr(e.href.length-1)==="#"?n=!1:t.includes(r)&&!t.includes(`${r}category/`)&&(n=!0),n};var T=(e,t,r={})=>{let n=document.createElement(e);return Object.entries(r).forEach(([s,a])=>{if(s==="class"){n.classList.add(a);return}if(s==="dataset"){Object.entries(a).forEach(([p,f])=>{n.dataset[p]=f});return}if(s==="text"){n.textContent=a;return}if(s==="callback"){n.onload=a;return}n.setAttribute(s,a)}),t.appendChild(n),n};var q=e=>{let t=window.location.search,n=new URLSearchParams(t).get(e);return n===""&&(n=!0),n};var le=e=>{!q("debug")||e.preventDefault()};var F=()=>window.location.origin.includes("webflow.io");var N=e=>{F()&&console.log(e)};var se=()=>(document.body.classList.toggle("overflow-hidden"),!document.body.classList.contains("overflow-hidden"));var d=e=>{Object.keys(e).forEach(t=>{(e[t]===void 0||e[t]===null)&&delete e[t]}),N(e),F()||window.dataLayer.push(e)};var ce=e=>{if(!e.classList.contains("accordion__header"))return;let t={event:"accordion_expand",pageURL:m(),productName:g(),accordionTitle:$(e)};d(t)};var ie=e=>{let t={event:"cta_click",pageURL:m(),clickURL:E(e),clickText:V(e),positionOnPage:Z(e),ctaTactic:K(e)};d(t)};var R=(e,t)=>{let r={event:"form_step_load",formType:C(e),formName:_(e),pageURL:m(),productName:g(e),formStepNumber:z(t),formStep:Q(t)};d(r)};var me=e=>{let t={event:"form_submit",formType:C(e),formName:_(e),pageURL:m(),productName:g(e),formStepNumber:te(e)};d(t)};var pe=e=>{if(!re(e))return;let t=B(e),r={event:"knowledge_card_click",pageURL:m(),cardCategory:H(t),cardTitle:j(t),cardLinkClicked:G(e),cardPosition:W(t),clickURL:E(e),listType:J()};d(r)};var de=()=>{let e={event:"page_load",pageType:X(),funnelStage:Y(),productName:g(),author:I(),publishedDate:ee()};d(e)};var ue=()=>{let e=".modal__wrapper",t=".callback-form",r=`${t}__step`,n=".form__lbl-wrapper.is--error",s=`${t} .form__input`,a=`${t} .radio__group`,p=`${t} .form__radio-element`,f=`${t} .button.is--validate`,U=`${t} [data-form-el="back-button"]`,h="form__input-wrapper",b=`.${h}`,v=document.querySelectorAll(t),D=document.querySelectorAll(r),oe=document.querySelectorAll(n),A=document.querySelectorAll(s),w=document.querySelectorAll(a),Ue=document.querySelectorAll(p),De=document.querySelectorAll(f),Ce=document.querySelectorAll(U);function Me(o,l){let i=o.parentElement.querySelector(n);!i||(l?i.style.display="none":i.style.removeProperty("display"))}function Te(o){o.parentElement.querySelectorAll(n).forEach(u=>{u.style.display="none"});let x=o.querySelectorAll(b);x.length!==0&&x.forEach(u=>{u.style.display="none",u.querySelector("input").required=!1})}function ne(o,l){let i=l?"0":"1",x=l?"1":"0",u=l?"0.8":"1",c=l?"none":"auto";o.querySelector(".button__text").style.opacity=i,o.querySelector(".button__loading").style.opacity=x,o.style.opacity=u,o.style.pointerEvents=c}D.forEach(o=>{let l=o.parentElement;o!==l.firstChild&&(o.style.display="none")}),oe.forEach(o=>{o.style.display="none"}),w.forEach(o=>{Te(o)}),Ue.forEach(o=>{o.onclick=()=>{let l=o.closest(a);Te(l);let i=o.nextElementSibling;if(i===null)return!1;i.classList.contains(h)&&(i.querySelector("input").required=!0,i.style.removeProperty("display"))}});function ve(o){let l=o.checkValidity();return Me(o,l),l}function Oe(o){let l=o.querySelector('input[type="radio"]:checked'),i=o.parentElement.querySelector(n);if(l){let x=o.parentElement.querySelector(n);x.style.display="none"}else i.style.removeProperty("display");return l}A.forEach(o=>{o.addEventListener("focusout",l=>{let i=o.value.trim();o.value=i,ve(o)})}),De.forEach(o=>{o.onclick=()=>{ne(o,!0);let l=o.closest(r),i=l.querySelectorAll(s),x=l.querySelectorAll(a),u=!0;i.length!==0&&i.forEach(L=>{ve(L)||(u=!1)}),x.length!==0&&x.forEach(L=>{Oe(L)||(u=!1)});let c=o.closest("form"),ae=Array.from(c.querySelectorAll(f)),Ae=ae.indexOf(o);if(u&&Ae!==ae.length-1)l.style.display="none",l.nextElementSibling.style.removeProperty("display"),R(c,l.nextElementSibling),ne(o,!1);else if(u&&Ae===ae.length-1){let L=c.querySelectorAll(".form__checkbox-wrapper");L.length!==0&&L.forEach(S=>{let y=S.id,k=S.nextElementSibling.querySelector("input"),Be=S.querySelector('input[type="checkbox"]:checked');y!==""&&(k.id=y,k.value=Be),S.querySelector("input").id=""});let M=c.querySelectorAll(a);if(M.length!==0&&M.forEach(S=>{let y=S.querySelector(":checked"),k=S.closest(b).querySelector(".form__radio-submit input");k.id=y.dataset.name,k.name=y.dataset.name,k.value=y.value,y.removeAttribute("name"),y.removeAttribute("id"),y.removeAttribute("value")}),c.querySelector('input[name="name"]').value!=="")return c.method="get",c.submit(),!1;let $e=c.closest("[data-p-end]")?atob(c.closest("[data-p-end]").getAttribute("data-p-end")):c.action;c.method="post",c.action=c.action===window.location.href?$e:c.action;let Pe=c.querySelector('input[name="originating_form"]'),O=Pe===null?document.createElement("input"):Pe;O.setAttribute("type","hidden"),O.setAttribute("name","originating_form"),O.setAttribute("value",window.location.pathname),c.appendChild(O),me(c),c.submit()}else u||ne(o,!1)}}),Ce.length!==0&&Ce.forEach(o=>{o.onclick=()=>{let l=o.closest(r);l.style.display="none",l.previousElementSibling.style.removeProperty("display")}})};var fe=()=>{[...document.querySelectorAll(".email__form")].forEach(t=>{t.addEventListener("submit",r=>{r.preventDefault(),r.stopPropagation(),t.querySelector('input[name="name"]').value===""&&t.setAttribute("action","https://www.crunch.uk/l/264772/2021-07-22/rhnlf"),t.submit()})})};var ge=()=>{let e=[...document.querySelectorAll(".accordions")];if(e.length===0)return;e.forEach(r=>{r.classList.contains("is--experts")||r.firstElementChild.classList.add("is--active")}),[...document.querySelectorAll(".accordion__header")].forEach(r=>{r.onclick=()=>{let s=r.closest(".accordions").querySelector(".is--active"),a=r.closest(".accordion__item");s&&s!==a&&s.classList.remove("is--active"),a.classList.toggle("is--active")}})};var xe=()=>{[...document.querySelectorAll(".card__link")].forEach(t=>{let r=t.textContent;[...t.closest(".card").querySelectorAll("a")].forEach(s=>{(s.getAttribute("href")==="#"||s.getAttribute("href")==="")&&s.setAttribute("href",r)})})};var ye=(e,t)=>(Array.isArray(t)||(t=[t]),t.map(n=>e.dispatchEvent(new Event(n,{bubbles:!0}))).every(n=>n));var Re=new Map([["tiny","(max-width: 479px)"],["small","(max-width: 767px)"],["medium","(max-width: 991px)"],["main","(min-width: 992px)"]]);var he=()=>{for(let[e,t]of Re)if(window.matchMedia(t).matches)return e;return"main"};var Se=()=>{let e=document.querySelector(".nav__menu"),t=()=>{e.style.height=`${window.innerHeight}px`,e.style.minHeight=`${window.innerHeight}px`},r=()=>{e.style.removeProperty("height"),e.style.removeProperty("min-height")},n=()=>{he()==="main"?(r(),window.removeEventListener("scroll",t)):(t(),window.addEventListener("scroll",t))};n(),window.addEventListener("resize",n)};var be=e=>{let a=new Date(e.getAttribute("data-countdown-end")).getTime(),p="data-countdown-value",f=e.querySelector(`[${p}="seconds"]`),U=e.querySelector(`[${p}="minutes"]`),h=e.querySelector(`[${p}="hours"]`),b=e.querySelector(`[${p}="days"]`),v=A=>A.toLocaleString("en-US",{minimumIntegerDigits:2,useGrouping:!1}),D=()=>{let A=new Date().getTime(),w=a-A;b.innerText=v(Math.floor(w/864e5)),h.innerText=v(Math.floor(w%864e5/36e5)),U.innerText=v(Math.floor(w%36e5/6e4)),f.innerText=v(Math.floor(w%6e4/1e3))},oe=()=>{e.closest('[data-countdown="hide"]').style.opacity="1"};D(),oe(),setInterval(D,1e3)};var we=()=>{let e=document.querySelector(".fab__wrapper");[...document.querySelectorAll(".fab, .fab__close, .fab__item")].forEach(r=>{r.addEventListener("click",()=>{e.classList.toggle("is--open")})})};var Le=()=>{[...document.querySelectorAll("a")].forEach(t=>{(location.hostname!==t.hostname||!t.hostname.length)&&t.setAttribute("rel","noopener")})};var ke=()=>{let e=q("tab");if(!e)return;let t=document.querySelector(`#${e}`);ye(t,"click")};var Ee=()=>{[...document.querySelectorAll(".splide")].forEach(t=>{new Splide(t,{perPage:3,perMove:1,focus:"center",type:"loop",gap:"4em",arrows:!1,speed:350,dragAngleThreshold:30,rewindSpeed:700,breakpoints:{991:{perPage:2},767:{perPage:1}}}).mount()})};var _e=()=>{let e=[...document.querySelectorAll(".trustpilot__review")],t=(r,n)=>{let s=r.classList.contains("line-clamp3")?"Less":"More";r.classList.toggle("line-clamp3"),n.textContent=s};e.forEach(r=>{let n=r.offsetHeight;r.classList.add("line-clamp3");let s=r.offsetHeight,a=r.parentElement.querySelector(".trustpilot__more");n===s?a.classList.add("is--hidden"):(a.classList.remove("is--hidden"),a.addEventListener("click",()=>{t(r,a)}))})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{let e=(()=>{N("index.ts"),window.dataLayer=window.dataLayer||[],de(),[...document.querySelectorAll("a")].forEach(a=>{a.addEventListener("click",p=>{le(p),ie(a),pe(a),ce(a)})}),ge(),xe(),Se(),[...document.querySelectorAll('[data-countdown="wrapper"]')].forEach(a=>{be(a)}),we(),Le(),ke(),document.querySelector(".splide")&&(T("link",document.head,{href:"https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/css/splide.min.css",rel:"stylesheet"}),T("style",document.head,{text:".splide__pagination__page{background:#BFC6CB!important;width:10px;height:10px}.splide__pagination__page.is-active{background:#FC125E!important;transform:scale(1)}"}),T("script",document.body,{src:"https://cdn.jsdelivr.net/npm/@splidejs/splide@latest/dist/js/splide.min.js",callback:Ee})),[{selector:".is--callback",formSelector:".modal__wrapper.is--main form"},{selector:".is--sub-callback",formSelector:".modal__wrapper.is--sub form"},{selector:".is--footer-callback",formSelector:".modal__wrapper.is--footer form"},{selector:".modal__close"},{selector:".modal__x"}].forEach(a=>{[...document.querySelectorAll(a.selector)].forEach(f=>{f.onclick=()=>{if(se())return;let h=document.querySelector(a.formSelector),b=P.getCurrentFormStep(h);R(h,b)}})}),_e(),ue(),fe()})()});})();
